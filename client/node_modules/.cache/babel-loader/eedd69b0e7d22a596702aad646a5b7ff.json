{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport API from \"../api\";\nexport default {\n  data() {\n    return {\n      rules: [value => !!value || \"This field is required\"],\n      post: {\n        title: \"\",\n        category: \"\",\n        content: \"\",\n        image: \"\"\n      },\n      image: \"\"\n    };\n  },\n\n  async created() {\n    const response = await API.getPostByID(this.$route.params.id);\n    this.post = response;\n  },\n\n  methods: {\n    selectFile(file) {\n      this.image = file[0];\n    },\n\n    async updateForm() {\n      const formData = new FormData();\n      formData.append(\"image\", this.image);\n      formData.append(\"title\", this.post.title);\n      formData.append(\"category\", this.post.category);\n      formData.append(\"content\", this.post.content);\n      formData.append(\"old_image\", this.post.image);\n\n      if (this.$refs.form.validate()) {\n        const response = await API.updatePost(this.$route.params.id, formData);\n        this.$router.push({\n          name: \"home\",\n          params: {\n            message: response.message\n          }\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACAA;AAEA;AACAC,2DADA;AAGAC;AACAC,iBADA;AAEAC,oBAFA;AAGAC,mBAHA;AAIAC;AAJA,OAHA;AASAA;AATA;AAWA,GAdA;;AAeA;AACA;AACA;AACA,GAlBA;;AAmBAC;AACAC;AACA;AACA,KAHA;;AAIA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;;AACA;AACA;AACA;AAAAC;AAAAC;AAAAC;AAAA;AAAA;AACA;AACA;;AAfA;AAnBA","names":["data","rules","post","title","category","content","image","methods","selectFile","formData","name","params","message"],"sourceRoot":"src/views","sources":["EditPost.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n        <v-row no-gutters>\r\n            <v-col sm=\"10\" class=\"mx-auto\">\r\n                <v-card class=\"pa-5\">\r\n                    <v-card-title>Edit This Post</v-card-title>\r\n                    <v-divider></v-divider>\r\n                    <v-form ref=\"form\" @submit.prevent=\"updateForm\" class=\"pa-5\" enctype=\"multipart/form-data\">\r\n                        <v-text-field label=\"Title\" v-model=\"post.title\" prepend-icon=\"mdi-note\" :rules=\"rules\"></v-text-field>\r\n\r\n                        <v-text-field label=\"Category\" v-model=\"post.category\" prepend-icon=\"mdi-view-list\" :rules=\"rules\"></v-text-field>\r\n\r\n                        <v-textarea label=\"Content\" v-model=\"post.content\" prepend-icon=\"mdi-note-plus\" :rules=\"rules\"></v-textarea>\r\n\r\n                        <v-file-input @change=\"selectFile\" show-size counter multiple label=\"Select Image\"></v-file-input>\r\n\r\n                        <v-img :src=\"`/${post.image}`\" width=\"120\"></v-img>\r\n                        <v-btn type=\"submit\" class=\"mt-3\" color=\"success\">Update Post</v-btn>\r\n                    </v-form>\r\n                </v-card>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport API from \"../api\";\r\nexport default {\r\n    data(){\r\n        \r\n        return{\r\n            rules: [(value) => !!value || \"This field is required\"],\r\n           \r\n            post:{\r\n                title:\"\",\r\n                category:\"\",\r\n                content:\"\",\r\n                image:\"\",\r\n            },\r\n            image: \"\",\r\n        };\r\n    },\r\n    async created(){\r\n        const response = await API.getPostByID(this.$route.params.id);\r\n        this.post = response;\r\n    },\r\n    methods: {\r\n        selectFile(file){\r\n            this.image = file[0];\r\n        },\r\n        async updateForm(){\r\n            const formData = new FormData();\r\n            formData.append(\"image\", this.image);\r\n            formData.append(\"title\", this.post.title);\r\n            formData.append(\"category\", this.post.category);\r\n            formData.append(\"content\", this.post.content);\r\n            formData.append(\"old_image\", this.post.image);\r\n            if(this.$refs.form.validate()){ \r\n                const response = await API.updatePost(this.$route.params.id, formData);\r\n                this.$router.push({ name:\"home\", params: {message: response.message } });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}